<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <head th:fragment="head">
        <title>SISTEMA DE TICKETS TEATRO</title>
        <meta charset="UTF-8"/>
        <link th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" rel="stylesheet"/>
        <link th:href="@{/webjars/font-awesome/css/all.css}" rel="stylesheet"/>
        <script th:src="@{/js/rutinas.js}"></script>
        <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
        <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
        <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
        <!-- Enlaces a hojas de estilo y scripts -->
        <!-- Añade aquí los enlaces a Bootstrap, jQuery, etc. -->
    </head>

    <body> 
        <!-- Fragmento para Agregar un Nuevo Método de Pago -->
        <section th:fragment="agregarMetodoPago">
            <div class="row">
                <div class="col-md-8">
                    <form th:action="@{/metodosdepago/guardar}" method="POST" class="was-validated">
                        <!-- Campos del formulario -->
                        <div class="mb-3">
                            <label for="numeroTarjeta">Número de Tarjeta</label>
                            <input type="number" class="form-control" name="numeroTarjeta" required="true" />
                        </div>
                        <div class="mb-3">
                            <label for="fechaVencimiento">Fecha de Vencimiento</label>
                            <input type="text" class="form-control" name="fechaVencimiento" required =" true" />
                        </div>
                        <div class="mb-3">
                            <label for="codigoVerificacion">Código de Verificación</label>
                            <input type="text" class="form-control" name="codigoVerificacion" required ="true"/>
                        </div>
                        <button type="submit" class="btn btn-primary">Guardar</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Fragmento para Listar los Métodos de Pago -->
        <section th:fragment="listadoMetodosPago">
            <div class="container">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Número de Tarjeta</th>
                            <th>Fecha de Vencimiento</th>
                            <th>Código de Verificación</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="metodo : ${metodosPago}">
                            <td th:text="${metodo.numeroTarjeta}"></td>
                            <td th:text="${metodo.fechaVencimiento}"></td>
                            <td th:text="${metodo.codigoVerificacion}"></td>
                            <td>
                                <a th:href="@{/metodosdepago/editar/} + ${metodo.id}" class="btn btn-success">Editar</a>
                                <a th:href="@{/metodosdepago/eliminar/} + ${metodo.id}" class="btn btn-danger">Eliminar</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Fragmento para Editar un Método de Pago -->
        <section th:fragment="editarMetodoPago">
            <div class="row">
                <div class="col-md-8">
                    <form th:action="@{/metodosdepago/actualizar}" method="POST" class="was-validated">
                        <!-- Campos del formulario para editar -->
                        <input type="hidden" name="id" th:value="${metodoPago.id}" />
                        <div class="mb-3">
                            <label for="numeroTarjeta">Número de Tarjeta</label>
                            <input type="text" class="form-control" name="numeroTarjeta" th:value="${metodoPago.numeroTarjeta}" required ="true" />
                        </div>
                        <div class="mb-3">
                            <label for="fechaVencimiento">Fecha de Vencimiento</label>
                            <input type="text" class="form-control" name="fechaVencimiento" th:value="${metodoPago.fechaVencimiento}" required ="true"/>
                        </div>
                        <div class="mb-3">
                            <label for="codigoVerificacion">Código de Verificación</label>
                            <input type="text" class="form-control" name="codigoVerificacion" th:value="${metodoPago.codigoVerificacion}" required="true" />
                        </div>
                        <button type="submit" class="btn btn-primary">Actualizar</button>
                    </form>
                </div>
            </div>
        </section>
    </body>
</html>
